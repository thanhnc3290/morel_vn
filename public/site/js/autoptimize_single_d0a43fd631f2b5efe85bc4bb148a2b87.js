var $=jQuery.noConflict();$(document).ready(function(){gdpr_init();reorder_elements();ytplayer_init();product_gallery();share_buttons();single_product_components_slider();single_product_side_menu();scroll_to();variation_select_change();ajax_form();select2_init();datepicker_init();tabs_init();reg_product_init();init_quantity_buttons();update_price();fc_testimonials();});$(window).load(function(){fade_in_init();});function gdpr_init(){$('.btn-gdpr').click(function(e){e.preventDefault();$('.gdpr-cookies').slideToggle();Cookies.set('gdpr',1,{expires:7});});}
function reorder_elements(){$('.wpsl-search-btn-wrap').appendTo('.wpsl-input');if(is_mobile()){$('.home-audio-product-main .col-content').insertBefore('.home-audio-product-main .col-gallery');}}
function fade_in_init(){$('.fade-in, #wpsl-search-wrap').css('opacity',1);}
function ytplayer_init(){$(".player").YTPlayer({playOnlyIfVisible:false,showControls:false})}
function product_gallery(){$('.single-product .slider-for').slick({slidesToShow:1,slidesToScroll:1,arrows:true,prevArrow:'<button class="slick-prev slick-arrow" aria-label="Previous" type="button"></button>',nextArrow:'<button class="slick-next slick-arrow" aria-label="Previous" type="button"></button>',fade:true,draggable:false,asNavFor:'.slider-nav',});$('.single-product .slider-nav').slick({slidesToShow:4,slidesToScroll:1,asNavFor:'.slider-for',arrows:false,dots:false,centerMode:true,focusOnSelect:true,});}
function share_buttons(){$('a.btn-share').click(function(e){e.preventDefault();var popup_window;var width=555;var height=500;var center_left=(screen.width/2)-(width/2);var center_top=(screen.height/2)-(height/2);var url=$(this).attr("href");popup_window=window.open(url,"Title","scrollbars=1, width="+width+", height="+height+", left="+center_left+", top="+center_top);popup_window.focus();});}
function single_product_components_slider(){$('.ys-slider-components').slick({slidesToShow:4,dots:false,arrows:true,adaptiveHeight:true,autoplaySpeed:3000,autoplay:true,responsive:[{breakpoint:500,settings:{slidesToShow:1,}},]});}
function fc_testimonials(){$('.fc-testimonials-slider').slick({slidesToShow:3,dots:false,arrows:false,adaptiveHeight:true,autoplaySpeed:3000,autoplay:true,responsive:[{breakpoint:500,settings:{slidesToShow:1,}},]});}
function single_product_side_menu(){$('.product-side-nav a').click(function(e){var parent_li=$(this).parent('li');if(parent_li.hasClass('active')){e.preventDefault();parent_li.removeClass('active').find('> .sub-menu').slideUp(100);return;}
if(parent_li.hasClass('menu-item-has-children')){e.preventDefault();if(!parent_li.hasClass('active')){parent_li.siblings().removeClass('active').find('> .sub-menu').slideUp(100);parent_li.addClass('active').find('> .sub-menu').slideToggle(100);}}});}
function scroll_to(){$('[data-scrollto]').click(function(){target=$($(this).data('scrollto'));$('html, body').animate({scrollTop:target.offset().top-$('.top_navigation').height()-$('.section-product-nav').height()},700);return false;});}
function variation_select_change(){$(".single_variation_wrap").on("show_variation",function(event,variation){$('.price-range-wrap').hide();});$(".variations_form").on("woocommerce_variation_select_change",function(){if(!$('.woocommerce-variation single_variation').is(':visible')){$('.price-range-wrap').show();}});}
function ajax_form(){$('.form-ajax').on('submit',function(e){e.preventDefault();var $form=$(this);var $status=$form.find('.form-status');var action=$form.attr('action');$status.html('<div class="loader"></div>');$('.form-ajax .input-wrap').removeClass('input-not-valid');$('.form-ajax .error-message').remove();$.post({dataType:'json',url:siteObject.ajaxurl,data:{action:action,data:$(this).serialize(),nonce:siteObject.nonce},success:function(response){$status.html('<div class="form-message form-message-'+response.status+'">'+response.message+'</div>');if(response.errors){$.each(response.errors,function(indexInArray,valueOfElement){$form.find('[name="'+valueOfElement.input_name+'"]').closest('.input-wrap').addClass('input-not-valid').after('<div class="error-message error-message-'+valueOfElement.input_name+'">'+valueOfElement.message+"</div>");});}
if((action=='ajax_login'||action=='ajax_register')&&response.status==='success'){if(response.redirect_url){document.location.href=response.redirect_url;}else{document.location.href=siteObject.homeurl;}}}});});}
function select2_init(){$('.form-register-product [name="product_id"]').select2({placeholder:"Select your product"});}
function datepicker_init(){if($('[name="purchase_date"]').length){$('[name="purchase_date"]').datepicker({dateFormat:'dd/mm/yy',maxDate:new Date});}}
function tabs_init(){if($('a[data-tab]').length){hash=location.hash.replace('#','');if(hash){setTimeout(()=>{$('a[data-tab="'+hash+'"]').trigger('click');},1);}}
$('a[data-tab]').click(function(e){e.preventDefault();var tab=$(this).data('tab');$(this).parent().siblings().removeClass('active');$(this).parent().addClass('active');$('.tab-content').removeClass('active');$('.tab-content[data-tab="'+tab+'"]').addClass('active');history.pushState({},null,'#'+tab);});}
function reg_product_init(){var $serial_fields_to_hide=$('[name="serial_number"], [name="warranty_card"]').closest('.input-wrap');$('[name="has_serial_number"]').change(function(e){var value=$(this).val();if(value==='no'){$serial_fields_to_hide.hide();}else{$serial_fields_to_hide.show();}});if($('[name="has_serial_number"]').val()=='no'){$serial_fields_to_hide.hide();}
var $method_fields_to_hide=$('[name="dealer_name"], [name="dealer_address"], [name="dealer_country"]').closest('.input-wrap');$('[name="purchase_method"]').change(function(e){var value=$(this).val();if(value==='online_store'){$method_fields_to_hide.hide();}else{$method_fields_to_hide.show();}});if($('[name="purchase_method"]').val()=='online_store'){$method_fields_to_hide.hide();}
$('.btn-star').click(function(e){e.preventDefault();var rate_val=$(this).data('rate');var $rate_el=$(this).parents('.rate');var $buttons=$rate_el.find('.btn-star');var $hidden_input=$rate_el.find('.rate-hidden');$hidden_input.val(rate_val);$.each($buttons,function(indexInArray,valueOfElement){if($(this).data('rate')<=rate_val){$(this).addClass('fill');}else{$(this).removeClass('fill');}});});}
function init_quantity_buttons(){$('body').on('click','.btn-qty',function(){var $qty=$(this).parents('.quantity').find('.qty');var min=$qty.attr('min');var max=$qty.attr('max');var step=$qty.attr('step');if($(this).hasClass('minus')&&$qty.val()>parseInt(min)){$qty.val(+$qty.val()-+step);}
else{if(max){var temp=+$qty.val()+ +step;if(temp<parseInt(max)){$qty.val()=temp;}}else{$qty.val(+$qty.val()+ +step);}}
$('[name="update_cart"]').removeAttr('disabled').trigger('click');});}
function is_mobile(){return $(window).width()<992?true:false;}
function fetcharchive(){jQuery.ajax({url:siteObject.ajaxurl,type:'post',data:{action:'archivedata_fetch',keyword:jQuery('#archive_input').val(),productcat:jQuery('#productcat').val()},success:function(data){if(!data||data=='no result'){jQuery('#archive_results').hide();}else{jQuery('#archive_results').show();jQuery('#archive_results ul').html(data);}}});}
function update_price(){$(".single_variation_wrap").on("show_variation",function(event,variation){$('.col-price .price').text(variation.display_price+'$');});}